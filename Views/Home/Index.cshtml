@model ClothingPro.BusinessLayer.DTO.StockDTO

@{
    ViewData["Title"] = "Home Page";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


<style type="text/css">
    /* Remove the background and show only the arrows */
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        background-image: none; /* Removes the default chevron image */
        width: 30px;
        height: 30px;
    }

    .card {
        justify-content: center;
        align-items: center;
    }

    /* Custom left arrow */
    .carousel-control-prev-icon::after {
        content: '‹'; /* Left arrow */
        font-size: 40px;
        color: black; /* Sets the arrow color */
    }

    /* Custom right arrow */
    .carousel-control-next-icon::after {
        content: '›'; /* Right arrow */
        font-size: 40px;
        color: black; /* Sets the arrow color */
    }

    /* Carousel styles */
    .carousel-inner {
        height: 400px;
    }

    .carousel-item {
        height: 100%;
    }

        .carousel-item img {
            /* object-fit: cover; */
            height: 100%;
            width: 100%;
        }

    /* Side navigation styles */
    .side-nav {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
    }

    .side-nav-header {
        font-weight: bold;
        margin-bottom: 10px;
        color: #333;
    }

    .side-nav .nav-link {
        color: #495057;
        transition: all 0.3s ease;
    }

        .side-nav .nav-link:hover {
            background-color: #e9ecef;
            color: #007bff;
        }

        .side-nav .nav-link i {
            margin-right: 10px;
        }

    /* Card styles */
    .card-img-top {
        height: 200px;
        /* object-fit: cover; */
    }

    /* Responsive styles */
    @@media (max-width: 767.98px) {
        .side-nav {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .side-nav-header {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .side-nav .nav {
            flex-direction: column;
        }

        .side-nav .nav-item {
            margin-bottom: 5px;
        }

        .side-nav .nav-link {
            display: block;
            padding: 10px 15px;
            background-color: #e9ecef;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

            .side-nav .nav-link:hover {
                background-color: #007bff;
                color: #fff;
            }

            .side-nav .nav-link i {
                margin-right: 10px;
            }
    }

    /* Main content styles */
    .main-content {
        padding: 20px;
    }

    /* General styles */
    body {
        font-family: Arial, sans-serif;
    }

    h4 {
        margin-top: 30px;
        margin-bottom: 20px;
        color: #333;
    }

    .card {
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
</style>

<script type="module">
    import { Modal, Ripple, initMDB } from "mdb-ui-kit";

    initMDB({ Carousel, Modal, Ripple });
    document.querySelectorAll('.card').forEach(card => {
        const button = card.querySelector('.icon-overlay');

        card.addEventListener('mouseenter', () => {
            button.style.display = 'block';
        });

        card.addEventListener('mouseleave', () => {
            button.style.display = 'none';
        });
    });

</script>

<div class="container-fluid">
    <div class="row">
        <!-- Side Navigation -->
        <div class="col-12 col-md-3 col-lg-3">
            <nav class="side-nav">
                <div class="title-action" id="showmenuheader">
                    <a class="btn btn-primary" onclick="showMenuHeader()">
                        <i class="bi bi-window-sidebar"></i>
                    </a>
                </div>
                <div class="title-action" id="hidemenuheader">
                    <a class="btn btn-primary" onclick="hideMenuHeader()">
                        <i class="bi bi-x-square-fill"></i>
                    </a>
                </div>
                <div class="side-nav-header" id="menuheadertitle">Menu Header</div>
                <ul class="nav flex-column" id="navbarlist">
                    @foreach (var item in Model.MenuHeaderLists)
                    {
                            <li class="nav-item">
                                <a class="nav-link" onclick="getStockMenuList(@item.MenuHeaderId)" title="@item.MenuHeaderName">
                                    <i class="fa-solid fa-shop"></i>
                                    <span>@item.MenuHeaderName</span>
                                </a>
                            </li>
                    }
                </ul>
            </nav>
        </div>

        <main class="col-12 col-md-9 col-lg-9 main-content">
            <div class="row mb-4">
                <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        @for (int i = 0; i < Model.BannerList.Count; i++)
                        {
                            var item = Model.BannerList[i];
                                <div class="carousel-item @(i == 0 ? "active" : "")">
                                    <img src="@item.BannerImg" class="d-block w-100" alt="@item.BannerImg">
                                </div>
                        }
                    </div>

                    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

            </div>

            <!-- Products Section -->
            <div class="row">
                <div class="col-12">
                    @if (Model.stockLatestList.Count > 0)
                    {
                    <h4 class="text-center mb-4">Latest Products</h4>
                    }
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                        @foreach (var item in Model.stockLatestList)
                        {
                            @if (!string.IsNullOrEmpty(item.StImage))
                            {
                                var imagePaths = item.StImage.Split(';');
                                var firstImage = imagePaths[0];

                                        <div class="col">
                                            <div class="card h-100">
                                                <a asp-controller="Stock" asp-action="StockDetail" asp-route-StId="@item.StId">
                                                    <img src="@firstImage" class="card-img-top" alt="@item.StName">
                                                </a>
                                                <div class="card-body d-flex flex-column">
                                                    <h5 class="card-title">@item.StName</h5>
                                                    <p class="card-text">@item.StDes</p>
                                                </div>
                                            </div>
                                        </div>
                            }
                        }
                    </div>

                    <h4 class="text-center mb-4 mt-5">Popular Products</h4>
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                        @foreach (var item in Model.stockPopularList)
                        {
                            @if (!string.IsNullOrEmpty(item.StImage))
                            {
                                var imagePaths = item.StImage.Split(';');
                                var firstImage = imagePaths[0];

                                        <div class="col">
                                            <div class="card h-100">
                                                <a asp-controller="Stock" asp-action="StockDetail" asp-route-StId="@item.StId">
                                                    <img src="@firstImage" class="card-img-top" alt="@item.StName">
                                                </a>
                                                <div class="card-body d-flex flex-column">
                                                    <h5 class="card-title">@item.StName</h5>
                                                    <p class="card-text">@item.StDes</p>
                                                </div>
                                            </div>
                                        </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <main />
    </div>
    <div />
    <style>
        /* Remove the background and show only the arrows */
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-image: none; /* Removes the default chevron image */
            width: 30px;
            height: 30px;
        }

            /* Custom left arrow */
            .carousel-control-prev-icon::after {
                content: '‹'; /* Left arrow */
                font-size: 40px;
                color: black; /* Sets the arrow color */
            }

            /* Custom right arrow */
            .carousel-control-next-icon::after {
                content: '›'; /* Right arrow */
                font-size: 40px;
                color: black; /* Sets the arrow color */
            }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/js/stock.js"></script>
    <script>
        $(document).ready(function () {
            $("#menuheadertitle").hide();
            $("#navbarlist").hide();
            $("#hidemenuheader").hide();

        });


        function displayLatestItems() {
            var fromdate = $("#fromdate").val();
            var todate = $("#todate").val();
            window.location.href = getUrlPath() + "Home/StockLatetsItems?FromDate=" + fromdate + "&Todate=" + todate;
        }
    </script>
